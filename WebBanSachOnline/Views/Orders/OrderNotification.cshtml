
@{
    ViewBag.Title = "OrderNotification";
}



<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đặt Hàng Thành Công - Nhà Sách Online</title>
    <!-- Bootstrap CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet" />
<!-- Font Awesome for icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet" />
<!-- Custom CSS -->
<link href="~/Content/style.css" rel="stylesheet" />
  </head>
<body>
    

    <!-- Main Content -->
    <div class="container mt-4">
        <nav aria-label="breadcrumb" class="bg-light p-2 rounded mb-4 shadow-sm">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item">
                    <a href="/">Trang chủ</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    Đặt hàng thành công
                </li>
            </ol>
        </nav>

        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-sm text-center p-5">
                    <div class="mb-4">
                        <i class="fas fa-check-circle text-success fa-5x"></i>
                    </div>
                    <h2 class="mb-4">Đặt hàng thành công!</h2>
                    <p class="lead mb-4">
                        Cảm ơn bạn đã mua sắm tại Nhà Sách Online. Đơn hàng của bạn đã
                        được tiếp nhận và đang được xử lý.
                    </p>
                    <div class="alert alert-info mb-4">
                        <p class="mb-0">
                            Mã đơn hàng của bạn là: <strong id="order-id">DH1</strong><br />
                            @*Chúng tôi sẽ gửi email xác nhận đơn hàng đến địa chỉ email của
                            bạn.*@
                        </p>
                    </div>
                    <div class="d-flex justify-content-center gap-3">
                        <a href="/pages/orders.html" class="btn btn-primary">
                            <i class="fas fa-history me-2"></i>Xem đơn hàng
                        </a>
                        <a href="/" class="btn btn-outline-primary">
                            <i class="fas fa-shopping-cart me-2"></i>Tiếp tục mua sắm
                        </a>
                    </div>
                </div>

                <!-- Order Summary -->
                <!--<div class="card shadow-sm mt-4">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">Chi tiết đơn hàng</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <h6>Thông tin giao hàng</h6>
                                <p class="mb-1">
                                    <strong id="shipping-name">Nguyễn Văn A</strong>
                                </p>
                                <p class="mb-1" id="shipping-phone">0912345678</p>
                                <p class="mb-1" id="shipping-email">example@email.com</p>
                                <p class="mb-0" id="shipping-address">
                                    123 Đường Lê Lợi, Phường Bến Nghé, Quận 1, TP. Hồ Chí Minh
                                </p>
                            </div>
                            <div class="col-md-6">
                                <h6>Phương thức thanh toán</h6>
                                <p id="payment-method">Thanh toán khi nhận hàng (COD)</p>
                                <h6 class="mt-3">Thời gian đặt hàng</h6>
                                <p id="order-date">21/04/2025 15:30</p>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Sản phẩm</th>
                                        <th>Đơn giá</th>
                                        <th>Số lượng</th>
                                        <th class="text-end">Thành tiền</th>
                                    </tr>
                                </thead>
                                <tbody id="order-items">-->
                                    <!-- Order items will be loaded here -->
                                <!--</tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3" class="text-end">Tạm tính:</td>
                                        <td class="text-end" id="subtotal">0₫</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3" class="text-end">Phí vận chuyển:</td>
                                        <td class="text-end" id="shipping">30.000₫</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3" class="text-end fw-bold">Tổng cộng:</td>
                                        <td class="text-end fw-bold text-danger" id="total">
                                            30.000₫
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>-->
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle (includes Popper) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/assets/js/main.js"></script>
    <script>// Sample order data (in a real app, this would come from an API or URL parameters)
      const order = {
        id: "DH1",
        date: "21/04/2025 15:30",
        items: [
          {
            id: 1,
            title: "Tôi Thấy Hoa Vàng Trên Cỏ Xanh",
            price: 120000,
            quantity: 1,
            image:
              "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1545314990i/10433999.jpg",
          },
          {
            id: 3,
            title: "Đắc Nhân Tâm",
            price: 90000,
            quantity: 2,
            image:
              "https://nhasachphuongnam.com/images/detailed/217/dac-nhan-tam-bc.jpg",
          },
        ],
        shipping: {
          name: "Nguyễn Văn A",
          phone: "0912345678",
          email: "example@email.com",
          address: "123 Đường Lê Lợi, Phường Bến Nghé, Quận 1, TP. Hồ Chí Minh",
        },
        payment: "COD",
      };

      // Load order details
      function loadOrderDetails() {
        // Order ID
        document.getElementById("order-id").textContent = order.id;

        // Shipping info
        document.getElementById("shipping-name").textContent =
          order.shipping.name;
        document.getElementById("shipping-phone").textContent =
          order.shipping.phone;
        document.getElementById("shipping-email").textContent =
          order.shipping.email;
        document.getElementById("shipping-address").textContent =
          order.shipping.address;

        // Payment method
        document.getElementById("payment-method").textContent =
          getPaymentMethodText(order.payment);

        // Order date
        document.getElementById("order-date").textContent = order.date;

        // Order items
        const orderItems = document.getElementById("order-items");
        orderItems.innerHTML = order.items
          .map(
            (item) => `
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <img src="${item.image}" alt="${
              item.title
            }" class="me-2 rounded" width="40">
                            <span>${item.title}</span>
                        </div>
                    </td>
                    <td>${formatCurrency(item.price)}</td>
                    <td>${item.quantity}</td>
                    <td class="text-end">${formatCurrency(
                      item.price * item.quantity
                    )}</td>
                </tr>
            `
          )
          .join("");

        // Order summary
        const subtotal = order.items.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
        const shipping = 30000;
        const total = subtotal + shipping;

        document.getElementById("subtotal").textContent =
          formatCurrency(subtotal);
        document.getElementById("shipping").textContent =
          formatCurrency(shipping);
        document.getElementById("total").textContent = formatCurrency(total);
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        if (!isLoggedIn()) {
          window.location.href = "/pages/sign-in.html";
          return;
        }
        loadOrderDetails();
        updateCartCount();
        // Update user name in nav
        const user = getLoggedInUser();
        if (user) {
          document.getElementById("user-name").textContent =
            "Xin chào, " + user.name;
        }
      });</script>
</body>
</html>


